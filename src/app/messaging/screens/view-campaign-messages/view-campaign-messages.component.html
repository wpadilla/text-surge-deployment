<div class="col-12">
  <div class="mb-4 d-flex flex-column">
    <div class="d-flex justify-content-between">
      <span class="text-color-gray font-size-4 font-weight-5">Review Messages</span>
    </div>
    <span class="font-size-9">VA Dems / Justin Case for Governor 2021</span>
  </div>
</div>
<div class="d-flex justify-content-between align-items-center flex-wrap flex-lg-nowrap view-campaign-messaging-cmp-filtering-container mt-5">
  <p-tabView styleClass="view-campaign-messaging-cmp-tab w-100">
    <p-tabPanel header="Active">
    </p-tabPanel>
    <p-tabPanel header="Completed Conversations">
    </p-tabPanel>
  </p-tabView>
  <ts-list-filters
    class="view-campaign-messaging-cmp-filters flex-lg-nowrap m-lg-0"
    [filterByProperties]="filterByProperties"
    [sortByProperties]="sortByProperties"
    [actions]="actions"
    searchWrapperClass="ms-lg-5 ms-3 order-2"
    filtersWrapperClass="view-campaign-messaging-cmp-filter-actions flex-lg-nowrap"
    actionsClass="me-lg-5"
  ></ts-list-filters>
</div>
<p-table [value]="filteredMessages"
         styleClass="p-datatable-sm"
>
  <ng-template pTemplate="header">
    <tr>
      <th>Name</th>
      <th>Phone Number</th>
      <th>ZIP</th>
      <th>City</th>
      <th>
        <ts-column-in-filter [defaultFilterValue]="selectedStatus"
                             headerLabel="Status"
                             field="status"
                             [data]="filteredContacts | uniqueValuesArrayElementsPipe: 'status'">
        </ts-column-in-filter>
      </th>
      <th>
        <ts-column-in-filter field="script"
                             [defaultFilterValue]="selectedScript"
                             headerLabel="Script"
                             [data]="filteredContacts | uniqueValuesArrayElementsPipe: 'script'">
        </ts-column-in-filter>
      </th>
      <th>Source</th>
      <th style="width:180px">
        <ts-column-in-filter field="tag"
                             [defaultFilterValue]="selectedTag"
                             headerLabel="Tag"
                             [data]="filteredContacts | uniqueValuesArrayElementsPipe: 'tag'">
        </ts-column-in-filter>
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-contact>
    <tr>
      <td>{{contact.firstName}} {{contact.lastName}}</td>
      <td>{{contact.phone}}</td>
      <td>{{contact.zip}}</td>
      <td class="text-color-gray-2">{{contact.city}}</td>
      <td>
              <span class="text-color-{{statusColors[contact.status]}} font-weight-5">
                {{ contact.status}}
              </span>
      </td>
      <td class="text-color-gray-2">{{ contact.script}}</td>
      <td class="text-color-gray-2">{{ contact.source }}</td>
      <td>
        <ts-button-label [type]="tagColors[contact.tag]" [value]="contact.tag">
        </ts-button-label>
      </td>
    </tr>
  </ng-template>
</p-table>

